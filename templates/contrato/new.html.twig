{% extends 'base.html.twig' %}
{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" type="text/css" href="{{ asset('plugins/bootstrap-toastr/toastr.min.css')}}"/> 
    <link href="{{ asset('plugins/datetimepicker/bootstrap-datetimepicker.min.css')}}" rel="stylesheet" type="text/css"/>
{% endblock %}
{% block rootmenucontratos %}
    class="start active open"
{% endblock %}
{% block body %}
    <div class="page-content-wrapper">
        <div class="page-content">
            <div class="page-bar">
                <ul class="page-breadcrumb">
                    <li>
                        <i class="fa fa-home"></i>
                        <a href="#">Inicio</a>
                        <i class="fa fa-angle-right"></i>
                    </li>
                    <li>
                        <a href="{{ path('contrato_index') }}">Contratos</a>
                        <i class="fa fa-angle-right"></i>
                        <a href="#">Nuevo</a> 
                    </li>
                </ul>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="tabbable tabbable-custom boxless tabbable-reversed">
                        <div class="tab-content">
                            {{ form_start(form, {'attr': {'class': 'form-horizontal','novalidate':'novalidate' }}) }}
                            <div class="tab-pane active" id="tab_0">
                                <div class="portlet light bg-inverse">
                                    <div class="portlet-title">
                                        <div class="caption">
                                            <i class="font-red-sunglo"></i>
                                            <span class="caption-subject font-red-sunglo bold">Adicionar contrato</span>
                                            <span class="caption-helper"></span>
                                        </div>
                                        <div class="actions btn-set">
                                            <button type="button" class="btn default" id="volveratras"><i class="fa fa-angle-double-left"></i> Volver atrás</a></button>
                                            <button class="btn green" {{ form_widget(form.Guardar)}}</button>
                                        </div>
                                    </div>
                                    <div class="portlet-body form">
                                        <div class="form-body"> 
                                            <div class="row">
                                                <div class="col-sm-6">
                                                    <div class="form-group {% if form.numeroContrato.vars.valid==false %}has-error{% endif %}">
                                                        <label class="col-md-4 control-label">Número de contrato:<span class="required"> *</span></label>
                                                        <div class="col-md-8">
                                                            {{ form_widget(form.numeroContrato, { 'attr': {
                                                    'class' : 'form-control',
                                                    } }) }}
                                                            {% if form.numeroContrato.vars.valid==false %}
                                                                <span class="help-block">{{ form_errors(form.numeroContrato)}}</span>
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                        <div class="form-group {% if form.titular.vars.valid==false %}has-error{% endif %}">
                                                        <label class="col-md-4 control-label">Titular:<span class="required"> *</span></label>
                                                        <div class="col-md-8">
                                                            {{ form_widget(form.titular, { 'attr': {
                                                    'class' : 'form-control',
                                                    } }) }}
                                                            {% if form.titular.vars.valid==false %}
                                                                <span class="help-block">{{ form_errors(form.titular)}}</span>
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                          <div class="form-group {% if form.tipoContrato.vars.valid==false %}has-error{% endif %}">
                                                        <label class="col-md-4 control-label">Tipo de contrato:<span class="required"> *</span></label>
                                                        <div class="col-md-8">
                                                            {{ form_widget(form.tipoContrato, { 'attr': {
                                                    'class' : 'form-control',
                                                    } }) }}
                                                            {% if form.tipoContrato.vars.valid==false %}
                                                                <span class="help-block">{{ form_errors(form.tipoContrato)}}</span>
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                        <div class="form-group  {% if form.fechaVencimiento.vars.valid==false %}has-error{% endif %}">
                                                <div class="input text required">
                                                    <label class="col-md-4 control-label">Fecha de vencimiento:<span class="required"> *</span></label>
                                                    <div class="col-md-8">
                                                        <div class='input-group date' id='datetimepicker1'>
                                                            {{form_widget(form.fechaVencimiento, {'attr': {'class' : 'form-control'}})}}
                                                            <span class="input-group-addon">
                                                                <span class="fa fa-calendar"></span>
                                                            </span> 
                                                        </div>
                                                        {% if form.fechaVencimiento.vars.valid==false %}
                                                            <span class="help-block">{{ form_errors(form.fechaVencimiento)}}</span>
                                                        {% endif %}
                                                    </div>
                                                </div> 
                                            </div>
                                                </div> 
                                            </div>
                                        </div>
                                    </div>       
                                    {{ form_end(form) }}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block javascripts %}
    {{ parent() }}   
    <script src="{{ asset('plugins/bootstrap-toastr/toastr.min.js')}}"></script> 
    <script src="{{ asset('validations/contrfato.js')}}"></script>
    <script type="text/javascript"  src="{{ asset('plugins/datetimepicker/moment.min.js')}}"></script>
    <script type="text/javascript"  src="{{ asset('plugins/datetimepicker/moment-with-locales.js') }}"></script>
   
    <script>
        $("#volveratras").click(function ()
        {
            location.href = "{{ path('contrato_index') }}";
        })
          $('#datetimepicker1').datetimepicker({
            //minDate: moment().millisecond(0).second(0).minute(0).hour(0),
            format: 'DD/MM/YYYY',
            locale: 'es'})
        
        
        
    </script>
{% endblock %}