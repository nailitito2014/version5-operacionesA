{% extends 'base.html.twig' %}
{% block stylesheets %}
    {{ parent() }}
 {% endblock %}
{% block body %}
<div class="page-content-wrapper">
        <div class="page-content">
            <div class="page-bar">
                <ul class="page-breadcrumb">
                    <li>
                        <i class="fa fa-home"></i>
                        <a href="#">Inicio</a>
                        <i class="fa fa-angle-right"></i>
                    </li>
                    <li>
                        <a href="{{ path('user_index') }}">Usuarios</a>
                        <i class="fa fa-angle-right"></i>
                        <a href="#">Nuevo</a> 
                    </li>
                </ul>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="tabbable tabbable-custom boxless tabbable-reversed">
                        <div class="tab-content">
                            {{ form_start(form, {'attr': {'class': 'form-horizontal','novalidate':'novalidate' }}) }}
                            <div class="tab-pane active" id="tab_0">
                                <div class="portlet light bg-inverse">
                                    <div class="portlet-title">
                                        <div class="caption">
                                            <i class="font-red-sunglo"></i>
                                            <span class="caption-subject font-red-sunglo bold">Adicionar usuario</span>
                                            <span class="caption-helper"></span>
                                        </div>
                                        <div class="actions btn-set">
                                            <button type="button" class="btn default" id="volveratras"><i class="fa fa-angle-double-left"></i> Volver atr√°s</a></button>
                                            <button class="btn green" {{ form_widget(form.Guardar)}}</button>
                                        </div>
                                    </div>
                                    <div class="portlet-body form">
                                        <div class="form-body"> 
                                            <div class="row">
                                                <div class="col-sm-6">
                                                    <div class="form-group {% if form.nombre.vars.valid==false %}has-error{% endif %}">
                                                        <label class="col-md-4 control-label">Nombre:</label>
                                                        <div class="col-md-8">
                                                            {{ form_widget(form.nombre, { 'attr': {
                                                    'class' : 'form-control',
                                                    } }) }}
                                                            {% if form.nombre.vars.valid==false %}
                                                                <span class="help-block">{{ form_errors(form.nombre)}}</span>
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                    <div class="form-group {% if form.primerApellido.vars.valid==false %}has-error{% endif %}">
                                                        <label class="col-md-4 control-label">Primer apellido:</label>
                                                        <div class="col-md-8">
                                                            {{ form_widget(form.primerApellido, { 'attr': {
                                                    'class' : 'form-control',
                                                    } }) }}
                                                            {% if form.primerApellido.vars.valid==false %}
                                                                <span class="help-block">{{ form_errors(form.primerApellido)}}</span>
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                    <div class="form-group {% if form.segundoApellido.vars.valid==false %}has-error{% endif %}">
                                                        <label class="col-md-4 control-label">Segundo apellido:</label>
                                                        <div class="col-md-8">
                                                            {{ form_widget(form.segundoApellido, { 'attr': {
                                                    'class' : 'form-control',
                                                    } }) }}
                                                            {% if form.segundoApellido.vars.valid==false %}
                                                                <span class="help-block">{{ form_errors(form.segundoApellido)}}</span>
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                    <div class="form-group {% if form.rol.vars.valid==false %}has-error{% endif %}">
                                                        <label class="col-sm-4 control-label">Rol:</label>
                                                        <div class="col-sm-6">
                                                            {{ form_widget(form.rol, { 'attr': {
                                                                'class' : 'form-control',
                                                            } }) }}
                                                            {% if form.rol.vars.valid==false %}
                                                                <span class="help-block">{{ form_errors(form.rol)}}</span>
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group {% if form.nombreUsuario.vars.valid==false %}has-error{% endif %}">
                                                        <label class="col-sm-4 control-label">Nombre de usuario:<span class="required"> *</span></label>
                                                        <div class="col-sm-6">
                                                            {{ form_widget(form.nombreUsuario, { 'attr': {'class' : 'form-control',} }) }}
                                                            {% if form.nombreUsuario.vars.valid==false %}
                                                                <span class="help-block">{{ form_errors(form.nombreUsuario)}}</span>
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                    {% for passwordField in form.contrasenna %}
                                                        <div class="form-group">
                                                            <label class="col-sm-4 control-label">{{ form_label(passwordField) }}</label>
                                                            <div class="col-sm-6">
                                                                {{ form_widget(passwordField, { 'attr': {'class' : 'form-control',} }) }}
                                                            </div>
                                                        </div>
                                                    {% endfor %}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                        {{ form_end(form) }}
                                   </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('plugins/bootstrap-toastr/toastr.min.js')}}"></script>
    <script src="{{ asset('validations/usuario.js')}}"></script>
    <script>
        $("#volveratras").click(function ()
        {
             location.href = "{{ path('user_index') }}";
        })
    </script>
{% endblock %}